{"version":3,"sources":["webpack:///src/pages/login.vue","webpack:///./src/pages/login.vue?a219","webpack:///./src/pages/login.vue"],"names":["pages_login","data","iconfont","Neutral","formLoading","active","checked","form","user","pwd","formShow","loading","loadConfig","UnifiedLogin","UnifiedLoginType","password","rules","required","message","trigger","min","max","mounted","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","srvConfig","res","wrap","_context","prev","next","cookieOperate","get","JSON","parse","username","userpwd","$root","GetSrvConfig","sent","http","api","getConfigInfo","type","$message","dangerouslyUseHTMLString","showClose","Datas","t0","abrupt","window","localStorage","setItem","UnifiedloginURL","UnifiedloginOutUrl","isPCjoin","$route","query","relogin","delete","cookie","token","stop","methods","login","_this2","$refs","validate","valid","loginAjax","md5_default","Unifiedlogin","_this3","UnifiedloginAjax","location","href","getItem","_this4","_callee2","_context2","ComparePwdByName","checkThirdPartyUserByLDAP","_this5","_callee3","_context3","post","seePwd","keyNext","ev","keyCode","document","getElementById","focus","keyEnter","isSavePwd","val","set","savepwd","arr","stringify_default","psd","_this6","_callee4","UserType","tempPath","_context4","name","from","UserInfo","user_infor","Data","thc_infor","Teacher","stu_infor","Student","sessionStorage","indexOf","tolist","$router","push","u","p","selectortype_template_index_0_src_pages_login","render","_vm","_h","$createElement","_c","_self","staticClass","_v","class","btn-form","on","click","$event","directives","rawName","value","expression","ref","attrs","model","staticStyle","margin-bottom","prop","loginActive","placeholder","clearable","autofocus","nativeOn","keyup","callback","$$v","$set","slot","border","id","icon-biyanjing","icon-17yanjing2","_e","margin-left","margin-top","change","src","__webpack_require__","alt","draggable","_m","_s","Date","getFullYear","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/45.2023122814742.js","sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login\">\r\n      <div class=\"login-pannel\">\r\n        <div class=\"header\">\r\n          <span class=\"login-title\">用户登录</span>\r\n          <span class=\"btn-scan\" :class=\"{'btn-form':!formShow}\" @click=\"formShow = !formShow\"></span>\r\n        </div>\r\n        <div class=\"login-form\">\r\n          <div class=\"fieldset\" v-if=\"formShow\">\r\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" v-loading=\"formLoading\">\r\n              <el-form-item style=\"margin-bottom:2.5px;\" prop=\"user\">\r\n                <el-input\r\n                  class=\"login-input\"\r\n                  v-model=\"form.user\"\r\n                  :class=\"{'loginActive':active}\"\r\n                  placeholder=\"请输入用户名\"\r\n                  clearable\r\n                  @focus=\"active = true\"\r\n                  @keyup.native=\"keyNext($event)\"\r\n                  autofocus=\"autofocus\"\r\n                >\r\n                  <template slot=\"prepend\">\r\n                    <i class=\"iconfont icon-user\"></i>\r\n                  </template>\r\n                </el-input>\r\n              </el-form-item>\r\n              <el-form-item prop=\"pwd\">\r\n                <el-input\r\n                  class=\"login-input\"\r\n                  id=\"loginPwd\"\r\n                  style=\"margin-bottom:-8px;border:none\"\r\n                  v-model=\"form.pwd\"\r\n                  :type=\"password\"\r\n                  :class=\"{'loginActive':!active}\"\r\n                  placeholder=\"请输入密码\"\r\n                  @focus=\"active = false\"\r\n                  @keyup.native=\"keyEnter($event)\"\r\n                >\r\n                  <template slot=\"prepend\">\r\n                    <i class=\"iconfont icon-weibiaoti1\"></i>\r\n                  </template>\r\n                  <template slot=\"suffix\">\r\n                    <i\r\n                      class=\"iconfont\"\r\n                      :class=\"{'icon-biyanjing': password == 'password','icon-17yanjing2': password == 'text'}\"\r\n                      @click=\"seePwd\"\r\n                    ></i>\r\n                  </template>\r\n                </el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n          <el-button\r\n            type=\"primary\"\r\n            class=\"login-form-btn\"\r\n            @click=\"login\"\r\n            v-if=\"formShow\"\r\n            :loading=\"loading\"\r\n          >登录</el-button>\r\n          <el-button\r\n            :loading=\"loadConfig\"\r\n            type=\"danger\"\r\n            class=\"Unifiedlogin-form-btn\"\r\n            @click=\"Unifiedlogin\"\r\n            v-if=\"formShow && UnifiedLogin\"\r\n            style=\"margin-left: 0px;\"\r\n          >统一登录</el-button>\r\n          <div class=\"forget-btn\" v-if=\"formShow\">\r\n            <span>忘记密码</span> \r\n            <template>\r\n            <el-checkbox style=\"margin-left:143px; margin-top:2px\" v-model=\"checked\" @change=\"isSavePwd\"/><span class=\"savepwd\">记住密码</span>\r\n            </template>\r\n          </div>\r\n          <div class=\"er-code\" v-if=\"!formShow\">\r\n            <div class=\"code-img-box\">\r\n              <img src=\"../assets/er-code.png\" alt :draggable=\"false\" />\r\n            </div>打开手机，扫描二维码\r\n            <div class=\"er-code-sub\">\r\n              <div class=\"er-code-item\">\r\n                <i class=\"iconfont icon-icon-test\"></i>\r\n                <span class=\"text\">免输入</span>\r\n              </div>\r\n              <div class=\"er-code-item\">\r\n                <i class=\"iconfont icon-serviceshandiantuikuan\"></i>\r\n                <span class=\"text\">更快</span>\r\n              </div>\r\n              <div class=\"er-code-item\">\r\n                <i class=\"iconfont icon-anquanbaozhang\"></i>\r\n                <span class=\"text\">更安全</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer\">\r\n      闽ICP18002063号-1\r\n      <span v-if=\"!Neutral\">睿和科技</span>\r\n      -Copyright &nbsp;&copy; &nbsp;{{ new Date().getFullYear()}} &nbsp;\r\n      <span\r\n        v-if=\"!Neutral\"\r\n      >睿和科技</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport api from \"../utils/api\";\r\nimport http from \"../utils/http\";\r\nimport md5 from \"js-md5\";\r\nimport cookie from \"../utils/cookieOperate.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      iconfont: \"icon-FJRH\",\r\n      Neutral: false,\r\n      formLoading: false,\r\n      active: true,\r\n      checked: false,\r\n      form: {\r\n        user: \"\",\r\n        pwd: \"\"\r\n      },\r\n      formShow: true,\r\n      loading: false,\r\n      loadConfig: true,\r\n      UnifiedLogin: true,\r\n      UnifiedLoginType: 0,\r\n      password: \"password\",\r\n      rules: {\r\n        user: [\r\n          {\r\n            required: true,\r\n            message: \"请输入用户名\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 2,\r\n            max: 25,\r\n            message: \"用户名长度在 2 到 25 个字符\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        pwd: [\r\n          {\r\n            required: true,\r\n            message: \"请输入密码\",\r\n            trigger: \"blur\"\r\n          },\r\n          {\r\n            min: 1,\r\n            max: 32,\r\n            message: \"密码长度在 1 到 32 个字符\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  async mounted() {\r\n    this.checked = cookie.get(\"isSavePwd\") === \"true\";\r\n    if (this.checked == true) {\r\n      if (cookie.get(\"loginInfo\") != null) {\r\n        var user = JSON.parse(cookie.get(\"loginInfo\"));\r\n        this.form.user = user.username;\r\n        this.form.pwd = user.userpwd;\r\n      }\r\n    }\r\n    let srvConfig = await this.$root.GetSrvConfig();\r\n    this.Neutral = srvConfig.Neutral;\r\n    this.iconfont =\r\n      this.Neutral && this.Neutral == true ? \"icon-shu2\" : \"icon-FJRH\";\r\n\r\n    let res = await http.get(api.getConfigInfo);\r\n    this.loading = false;\r\n    if (res.type) {\r\n      this.$message({\r\n        dangerouslyUseHTMLString: true,\r\n        showClose: true,\r\n        message: res.message,\r\n        type: res.type\r\n      });\r\n    } else {\r\n      this.loadConfig = false;\r\n      this.UnifiedLogin = false;\r\n      this.UnifiedLoginType = res.Datas.UnifiedLogin;\r\n      switch (res.Datas.UnifiedLogin) {\r\n        case 0: {\r\n          break;\r\n        }\r\n        case 1: {\r\n          break;\r\n        }\r\n        case 2: {\r\n          this.UnifiedLogin = true;\r\n          window.localStorage.setItem(\r\n            \"UnifiedloginURL\",\r\n            res.Datas.UnifiedloginURL\r\n          );\r\n          window.localStorage.setItem(\r\n            \"UnifiedloginOutUrl\",\r\n            res.Datas.UnifiedloginOutUrl\r\n          );\r\n          break;\r\n        }\r\n        case 3:\r\n        this.UnifiedLogin = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    this.isPCjoin();\r\n    if (this.$route.query.relogin == 1) {\r\n      this.$message({\r\n        message: \"token过期或已丢失，请重新登录\",\r\n        type: \"warning\"\r\n      });\r\n      cookie.delete(api.cookie.token);\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          this.loading = true;\r\n          this.loginAjax(this.form.user, md5(this.form.pwd));\r\n        }\r\n      });\r\n    },\r\n    Unifiedlogin() {\r\n      if (this.UnifiedLoginType == 3) {\r\n        this.$refs[\"form\"].validate(valid => {\r\n          if (valid) {\r\n            this.UnifiedloginAjax();\r\n          }\r\n        });\r\n      } else {\r\n        window.location.href = window.localStorage.getItem(\"UnifiedloginURL\");\r\n      }\r\n    },\r\n    async UnifiedloginAjax() {\r\n      let res = await http.get(api.ComparePwdByName, {\r\n        username: this.form.user,\r\n        pwd: this.form.pwd\r\n      });\r\n      if (res.type) {\r\n        this.checkThirdPartyUserByLDAP(this.form.user, this.form.pwd);\r\n      } else {\r\n        this.loginAjax(this.form.user, md5(this.form.pwd));\r\n      }\r\n    },\r\n    async checkThirdPartyUserByLDAP(username, pwd) {\r\n      let res = await http.post(api.checkThirdPartyUserByLDAP, {\r\n        username: username,\r\n        pwd: pwd\r\n      });\r\n      if (res.type) {\r\n        this.$message({\r\n          message: res.message,\r\n          type: \"warning\"\r\n        });\r\n      } else {\r\n        this.loginAjax(username, md5(pwd));\r\n      }\r\n    },\r\n    seePwd() {\r\n      if (this.password == \"text\") {\r\n        this.password = \"password\";\r\n      } else {\r\n        this.password = \"text\";\r\n      }\r\n    },\r\n    keyNext(ev) {\r\n      if (ev.keyCode == 13) {\r\n        document.getElementById(\"loginPwd\").focus();\r\n      }\r\n    },\r\n    keyEnter(ev) {\r\n      if (ev.keyCode == 13) {\r\n        this.login();\r\n      }\r\n    },\r\n    isSavePwd(val) {\r\n      if (val == true) {\r\n        cookie.set(\"isSavePwd\", true);\r\n        this.savepwd();\r\n      } else {\r\n        cookie.set(\"isSavePwd\", false);\r\n      }\r\n    },\r\n    savepwd() {\r\n      if (this.form.user == \"\") {\r\n        this.$message({\r\n          dangerouslyUseHTMLString: true,\r\n          showClose: true,\r\n          message: \"请先填写用户名\",\r\n          type: \"warming\"\r\n        });\r\n        this.checked = false;\r\n        return;\r\n      }\r\n      if (this.form.pwd == \"\") {\r\n        this.$message({\r\n          dangerouslyUseHTMLString: true,\r\n          showClose: true,\r\n          message: \"请先填写密码\",\r\n          type: \"warming\"\r\n        });\r\n        this.checked = false;\r\n        return;\r\n      }\r\n      var arr = {\r\n        username: this.form.user,\r\n        userpwd: this.form.pwd\r\n      };\r\n      cookie.set(\"loginInfo\", JSON.stringify(arr));\r\n    },\r\n    async loginAjax(user, psd) {\r\n      let res = await http.post(api.login, {\r\n        name: user,\r\n        pwd: psd,\r\n        from: \"11\"\r\n      });\r\n      this.loading = false;\r\n      if (res.type) {\r\n        this.$message({\r\n          dangerouslyUseHTMLString: true,\r\n          showClose: true,\r\n          message: res.message,\r\n          type: res.type\r\n        });\r\n      } else {\r\n        var UserType = res.UserInfo.UserType;\r\n        cookie.set(api.cookie.user_infor, JSON.stringify(res.UserInfo));\r\n        cookie.set(api.cookie.token, res.Data);\r\n        cookie.set(\"loginType\", \"0\");\r\n        if (UserType == 1) {\r\n          cookie.set(api.cookie.thc_infor, JSON.stringify(res.Teacher));\r\n        } else {\r\n          cookie.set(api.cookie.stu_infor, JSON.stringify(res.Student));\r\n        }\r\n        this.formLoading = false;\r\n        if (this.$route.query.relogin) {\r\n          let tempPath = window.sessionStorage.getItem(\"last_path\");\r\n          if (tempPath && tempPath.indexOf(\"login\") < 0) {\r\n            window.location.href = tempPath;\r\n          } else {\r\n            this.tolist(UserType);\r\n          }\r\n        } else {\r\n          this.tolist(UserType);\r\n        }\r\n      }\r\n    },\r\n    tolist(UserType) {\r\n      switch (UserType) {\r\n        case 1:\r\n          this.$router.push(\"/main/teacherSpace/teacherEvaluate/list\");\r\n          break;\r\n        case 2:\r\n          this.$router.push(\"/main/studentSpace/task/list\");\r\n          break;\r\n      }\r\n    },\r\n    isPCjoin() {\r\n      if (this.$route.query.u && this.$route.query.p) {\r\n        this.formLoading = true;\r\n        let user = this.$route.query.u;\r\n        let psd = this.$route.query.p;\r\n        this.loginAjax(user, psd);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='less'>\r\n.login-container {\r\n  position: absolute;\r\n  top: 120px;\r\n  left: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  height: calc(100% - 120px);\r\n  user-select: none;\r\n}\r\n\r\n.footer,\r\n.header {\r\n  display: -webkit-box;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.loginActive .iconfont {\r\n  color: #000 !important;\r\n}\r\n.login {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 700px;\r\n  background-image: url(\"../assets/login_bg.png\");\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n}\r\n/*=========表单开始==========*/\r\n\r\n.login-pannel {\r\n  position: absolute;\r\n  top: 25%;\r\n  right: 22%;\r\n  height: 380px;\r\n  width: 360px;\r\n  background: #fff;\r\n}\r\n\r\n.header {\r\n  justify-content: space-between;\r\n  height: 60px;\r\n  width: 100%;\r\n  padding-left: 36px;\r\n  text-align: left;\r\n  .login-title {\r\n    font-size: 1.1rem;\r\n    font-weight: normal;\r\n    align-self: flex-end;\r\n  }\r\n  .btn-scan {\r\n    height: 60px;\r\n    width: 66px;\r\n    background-image: url(\"../assets/scan-2.png\");\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .btn-form {\r\n    background-image: url(\"../assets/login-form.png\") !important;\r\n  }\r\n}\r\n.login-form {\r\n  height: 300px;\r\n  width: 100%;\r\n  padding: 0 36px 0;\r\n}\r\n.er-code {\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-top: 25px;\r\n}\r\n.code-img-box {\r\n  width: 166px;\r\n  height: 166px;\r\n  margin: 0 auto;\r\n  margin-bottom: 18px;\r\n  border: 1px solid #aaa;\r\n}\r\n.code-img-box img {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: inline-block;\r\n}\r\n.er-code-sub {\r\n  width: 100%;\r\n  height: 40px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 18px;\r\n}\r\n.er-code-item {\r\n  width: 33.33%;\r\n  height: 100%;\r\n  line-height: 40px;\r\n  color: #aaa;\r\n}\r\n.er-code-item .iconfont {\r\n  font-size: 1.25rem;\r\n}\r\n.fieldset {\r\n  width: 100%;\r\n  height: 150px;\r\n  margin-top: 26px;\r\n  .el-form-item {\r\n    margin-top: 28px;\r\n    .el-form-item__error {\r\n      top: 108% !important;\r\n    }\r\n  }\r\n  .login-input {\r\n    .iconfont {\r\n      font-size: 1.5rem !important;\r\n    }\r\n    .el-input__suffix {\r\n      line-height: 40px;\r\n    }\r\n  }\r\n}\r\n.login-form-btn {\r\n  width: 290px;\r\n  height: 46px;\r\n  margin-top: -8px;\r\n  border: none;\r\n  border-radius: 0 !important;\r\n  font-size: 24px !important;\r\n  color: #fff;\r\n}\r\n.Unifiedlogin-form-btn {\r\n  width: 290px;\r\n  height: 46px;\r\n  background: brown;\r\n  margin-top: 10px;\r\n  border: none;\r\n  border-radius: 0 !important;\r\n  font-size: 24px !important;\r\n  color: #fff;\r\n}\r\n.forget-btn {\r\n  width: 100%;\r\n  margin-top: 15px;\r\n  .savepwd {\r\n    margin-right: 18px;\r\n  }\r\n  span {\r\n    float: right;\r\n    font-size: 0.8rem;\r\n    color: #aaa;\r\n    &:hover {\r\n      color: #409eff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n/*=========表单结束==========*/\r\n\r\n.footer {\r\n  justify-content: center;\r\n  height: calc(100% - 700px);\r\n  width: 100%;\r\n  font-size: 14px;\r\n  background-color: #fff;\r\n  color: #666;\r\n}\r\n.login-input .el-input-group__append {\r\n  background: none !important;\r\n  border: none !important;\r\n  padding: 0 !important;\r\n}\r\n.login-input .el-input-group__append .iconfont {\r\n  font-size: 1.25rem !important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"login-pannel\"},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"login-title\"},[_vm._v(\"用户登录\")]),_vm._v(\" \"),_c('span',{staticClass:\"btn-scan\",class:{'btn-form':!_vm.formShow},on:{\"click\":function($event){_vm.formShow = !_vm.formShow}}})]),_vm._v(\" \"),_c('div',{staticClass:\"login-form\"},[(_vm.formShow)?_c('div',{staticClass:\"fieldset\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.formLoading),expression:\"formLoading\"}],ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"2.5px\"},attrs:{\"prop\":\"user\"}},[_c('el-input',{staticClass:\"login-input\",class:{'loginActive':_vm.active},attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\",\"autofocus\":\"autofocus\"},on:{\"focus\":function($event){_vm.active = true}},nativeOn:{\"keyup\":function($event){_vm.keyNext($event)}},model:{value:(_vm.form.user),callback:function ($$v) {_vm.$set(_vm.form, \"user\", $$v)},expression:\"form.user\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"iconfont icon-user\"})])],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pwd\"}},[_c('el-input',{staticClass:\"login-input\",class:{'loginActive':!_vm.active},staticStyle:{\"margin-bottom\":\"-8px\",\"border\":\"none\"},attrs:{\"id\":\"loginPwd\",\"type\":_vm.password,\"placeholder\":\"请输入密码\"},on:{\"focus\":function($event){_vm.active = false}},nativeOn:{\"keyup\":function($event){_vm.keyEnter($event)}},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}},[_c('template',{slot:\"prepend\"},[_c('i',{staticClass:\"iconfont icon-weibiaoti1\"})]),_vm._v(\" \"),_c('template',{slot:\"suffix\"},[_c('i',{staticClass:\"iconfont\",class:{'icon-biyanjing': _vm.password == 'password','icon-17yanjing2': _vm.password == 'text'},on:{\"click\":_vm.seePwd}})])],2)],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.formShow)?_c('el-button',{staticClass:\"login-form-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]):_vm._e(),_vm._v(\" \"),(_vm.formShow && _vm.UnifiedLogin)?_c('el-button',{staticClass:\"Unifiedlogin-form-btn\",staticStyle:{\"margin-left\":\"0px\"},attrs:{\"loading\":_vm.loadConfig,\"type\":\"danger\"},on:{\"click\":_vm.Unifiedlogin}},[_vm._v(\"统一登录\")]):_vm._e(),_vm._v(\" \"),(_vm.formShow)?_c('div',{staticClass:\"forget-btn\"},[_c('span',[_vm._v(\"忘记密码\")]),_vm._v(\" \"),[_c('el-checkbox',{staticStyle:{\"margin-left\":\"143px\",\"margin-top\":\"2px\"},on:{\"change\":_vm.isSavePwd},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}}),_c('span',{staticClass:\"savepwd\"},[_vm._v(\"记住密码\")])]],2):_vm._e(),_vm._v(\" \"),(!_vm.formShow)?_c('div',{staticClass:\"er-code\"},[_c('div',{staticClass:\"code-img-box\"},[_c('img',{attrs:{\"src\":require(\"../assets/er-code.png\"),\"alt\":\"\",\"draggable\":false}})]),_vm._v(\"打开手机，扫描二维码\\n          \"),_vm._m(0)]):_vm._e()],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_vm._v(\"\\n    闽ICP18002063号-1\\n    \"),(!_vm.Neutral)?_c('span',[_vm._v(\"睿和科技\")]):_vm._e(),_vm._v(\"\\n    -Copyright  ©  \"+_vm._s(new Date().getFullYear())+\"  \\n    \"),(!_vm.Neutral)?_c('span',[_vm._v(\"睿和科技\")]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"er-code-sub\"},[_c('div',{staticClass:\"er-code-item\"},[_c('i',{staticClass:\"iconfont icon-icon-test\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"免输入\")])]),_vm._v(\" \"),_c('div',{staticClass:\"er-code-item\"},[_c('i',{staticClass:\"iconfont icon-serviceshandiantuikuan\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"更快\")])]),_vm._v(\" \"),_c('div',{staticClass:\"er-code-item\"},[_c('i',{staticClass:\"iconfont icon-anquanbaozhang\"}),_vm._v(\" \"),_c('span',{staticClass:\"text\"},[_vm._v(\"更安全\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bc050ec\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bc050ec\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bc050ec\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}