webpackJsonp([63],{RqR2:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{},mixins:[s("6jqi").a],props:{},data:function(){return{selectIndex:-1}},computed:{},watch:{},created:function(){this.searchData()},methods:{searchData:function(){var e=this;this.dataList=[],this.selectIndex=-1,this.$http.get(this.$api.CourseTemplateList,{userID:this.$http.getUser().UserID}).then(function(t){t.Result&&t.Datas&&t.Datas.length>0&&t.Datas.forEach(function(t){e.dataList.push({courseName:t.CourseName,personNum:t.ClassNumber,className:t.ClassName,classId:t.ClassID,templateId:t.CTID,state:t.State})})}).catch(function(e){})},selectTemplate:function(e,t){this.selectIndex=t},deleteData:function(){var e=this;this.selectIndex<0?this.$message({showClose:!0,message:"请选择课程模板",type:"error"}):this.$confirm("此操作将删除该模板, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(e.$api.CourseTemplateDelete,{ids:e.dataList[e.selectIndex].templateId}).then(function(t){t.Result&&(e.$message({message:"删除成功！",type:"success"}),setTimeout(function(){e.searchData()},100))}).catch(function(t){e.$message({showClose:!0,message:"删除失败",type:"error"})})}).catch(function(){})},courseAdd:function(){this.$router.push("/main/teacherSpace/prepare/createCourse")},templateAdd:function(){this.$router.push("/main/teacherSpace/prepare/newCsTemp")},preStep:function(){this.$router.push("/main/teacherSpace/prepare/courseView")},nextStep:function(){this.selectIndex>-1?this.$router.push({path:"/main/teacherSpace/prepare/createCourse",query:{courseId:"0",classId:this.dataList[this.selectIndex].classId,courseName:this.dataList[this.selectIndex].courseName}}):this.$router.push("/main/teacherSpace/prepare/createCourse")}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"class-template"}},[s("div",{staticClass:"main"},[s("div",{staticClass:"top"},[s("div",{staticClass:"tt"},[e._v("班级模板")]),e._v(" "),s("div",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.courseAdd}},[e._v("创建新课程")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.templateAdd}},[e._v("创建新模板")]),e._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:e.deleteData}},[e._v("删除")])],1)]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"detail"},e._l(e.dataList,function(t,a){return s("div",{key:a,staticClass:"item",class:a===e.selectIndex?"selected":"",on:{click:function(s){e.selectTemplate(t,a)}}},[s("div",{staticClass:"c-n"},[e._v("课程："+e._s(t.courseName))]),e._v(" "),s("div",{staticClass:"c-num"},[s("span",[e._v("人数")]),e._v(" "),s("span",[e._v(e._s(t.personNum))])]),e._v(" "),s("div",{staticClass:"c-class"},[s("span",[e._v("班级")]),e._v(" "),s("span",[e._v(e._s(t.className))])])])}),0),e._v(" "),s("div",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.preStep}},[e._v("上一步")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.nextStep}},[e._v("下一步")])],1)])])])},staticRenderFns:[]};var i=s("VU/8")(a,c,!1,function(e){s("oSBp")},null,null);t.default=i.exports},oSBp:function(e,t){}});
//# sourceMappingURL=63.20231227165236.js.map