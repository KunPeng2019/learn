webpackJsonp([40],{DIrv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Vtgv"),a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"outline-wrap"},[s("div",{staticClass:"head"},[e.outLineTitle?s("span",[e._v("上一级："+e._s(e.outLineTitle))]):e._e()]),e._v(" "),s("el-form",{ref:"form",staticClass:"create-form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"内容标题："}},[s("el-input",{attrs:{clearable:""},model:{value:e.form.Title,callback:function(t){e.$set(e.form,"Title",t)},expression:"form.Title"}})],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"教学目的："}},[s("summer-note",{attrs:{eqIndex:0}})],1),e._v(" "),s("el-form-item",{attrs:{label:"教学重点："}},[s("summer-note",{attrs:{eqIndex:1}})],1),e._v(" "),s("el-form-item",{attrs:{label:"教学难点："}},[s("summer-note",{attrs:{eqIndex:2}})],1),e._v(" "),s("el-form-item",{attrs:{label:"教学要求："}},[s("summer-note",{attrs:{eqIndex:3}})],1),e._v(" "),s("el-form-item",{attrs:{label:"内容描述："}},[s("summer-note",{attrs:{eqIndex:4}})],1),e._v(" "),s("el-form-item",[s("div",{staticClass:"btns"},[s("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),s("el-button",{attrs:{size:"medium",type:"info",plain:""}},[e._v("取消")])],1)])],1)],1)},staticRenderFns:[]};var n=function(e){s("O6Az")},i=s("VU/8")(r.a,a,!1,n,"data-v-7fb402bc",null);t.default=i.exports},O6Az:function(e,t){},Vtgv:function(e,t,s){"use strict";(function(e){var r=s("Xxa5"),a=s.n(r),n=s("exGp"),i=s.n(n),o=s("3pLw"),m=s("VsUZ"),u=s("bBGM");t.a={components:{summerNote:u.a},data:function(){return{outLineTitle:"",isEdit:"",tcid:"",form:{Title:""},rules:{Title:[{required:!0,min:2,max:25,message:"长度在 2 到 25 个字符",trigger:"blur"}]}}},mounted:function(){this.judgeSta()},methods:{judgeSta:function(){this.outLineTitle=this.$route.params.tpname,this.tcid=this.$route.query.tcid,""==this.tcid||void 0==this.tcid?(this.isEdit=!1,this.$set(this.form,"Title",""),e(".summernote").eq(0).summernote("code",""),e(".summernote").eq(1).summernote("code",""),e(".summernote").eq(2).summernote("code",""),e(".summernote").eq(3).summernote("code",""),e(".summernote").eq(4).summernote("code","")):(this.isEdit=!0,this.getData())},getData:function(){var t=i()(a.a.mark(function t(){var s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(m.a.getTeachingContentData,{id:this.tcid,Token:o.a.getToken()});case 2:if(!(s=t.sent).Result){t.next=12;break}if(null!=s.Data){t.next=6;break}return t.abrupt("return");case 6:this.form.Title=s.Data.TCTitle,e(".summernote").eq(0).summernote("code",s.Data.TCAims),e(".summernote").eq(1).summernote("code",s.Data.TCKeyPoint),e(".summernote").eq(2).summernote("code",s.Data.TCDifficulty),e(".summernote").eq(3).summernote("code",s.Data.TCDemand),e(".summernote").eq(4).summernote("code",s.Data.TCDesc);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),onSubmit:function(){var t=this;this.$refs.form.validate(function(s){if(!s)return t.$message({showClose:!0,message:"请输入正确格式",type:"error"}),!1;var r={tcid:t.tcid,tpid:t.$route.params.tpid,ptcid:t.$route.params.tcid,tctile:t.form.Title,tcaims:e(".summernote").eq(0).summernote("code"),tckp:e(".summernote").eq(1).summernote("code"),tcdc:e(".summernote").eq(2).summernote("code"),tcdemand:e(".summernote").eq(3).summernote("code"),tcdesc:e(".summernote").eq(4).summernote("code"),tcforce:"0"};t.saveData(r)})},saveData:function(){var e=i()(a.a.mark(function e(t){var s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post(m.a.saveTeachingContent,t);case 2:(s=e.sent).type?this.$message({showClose:!0,message:s.message,type:s.type}):(this.$message({showClose:!0,message:"保存内容成功",type:"success"}),this.isEdit||(this.tcid=s.Data,this.$parent.$refs.nav.updata=!0),this.$router.push({name:"contentView",query:{tcid:this.tcid}}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},watch:{$route:function(e,t){this.judgeSta()}}}}).call(t,s("4kSj"))}});
//# sourceMappingURL=40.20231227165236.js.map