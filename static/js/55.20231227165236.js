webpackJsonp([55],{"F/S8":function(e,t){},FeVA:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Xxa5"),o=s.n(i),n=s("mvHQ"),a=s.n(n),r=s("exGp"),c=s.n(r),l=s("VsUZ"),d=s("3pLw"),p=s("NC6I"),u=s.n(p),f=s("vB9k"),m={data:function(){return{formLoading:!1,active:!0,thirdid:"",form:{user:"",pwd:"",checkpwd:""},formShow:!0,loading:!1,password:"password",checkpassword:"password",rules:{user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:25,message:"用户名长度在 2 到 25 个字符",trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:32,message:"密码长度在 6 到 32 个字符",trigger:"blur"}],checkpwd:[{required:!0,message:"请输入确认密码",trigger:"blur"},{min:6,max:32,message:"确认密码长度在 6 到 32 个字符",trigger:"blur"}]}}},mounted:function(){var e=this.$route.params.id.split("&"),t=e[0];this.thirdid=e[0].split("=")[1],this.form.user=this.thirdid,console.log(t),console.log(secondParams)},methods:{binding:function(){var e=this;this.$refs.form.validate(function(t){if(t){if(e.form.pwd!=e.form.checkpwd)return void e.$message({message:"确认密码和密码输入不一致",type:"warning"});e.loading=!0,e.bindingAjax(e.form.user,u()(e.form.pwd))}})},seePwd:function(){"text"==this.password?this.password="password":this.password="text"},seeCheckPwd:function(){"text"==this.checkpassword?this.checkpassword="password":this.checkpassword="text"},keyNext:function(e,t){13==e.keyCode&&document.getElementById(t).focus()},keyEnter:function(e){13==e.keyCode&&this.binding()},loginAjax:function(e,t){var s=this;return c()(o.a.mark(function i(){var n,r;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.post(l.a.login,{name:e,pwd:t,from:"11"});case 2:n=i.sent,s.loading=!1,n.type?s.$message({showClose:!0,message:n.message,type:n.type}):(f.a.set(l.a.cookie.user_infor,a()(n.UserInfo)),f.a.set(l.a.cookie.token,n.Data),s.formLoading=!1,s.$route.query.relogin&&(r=window.sessionStorage.getItem("last_path"))&&r.indexOf("login")<0?window.location.href=r:s.$router.push("/main/teacherSpace/teacherView/0"));case 5:case"end":return i.stop()}},i,s)}))()},bindingAjax:function(e,t){var s=this;return c()(o.a.mark(function i(){var n;return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.post(l.a.binding,{id:"",name:e,pwd:t,usertype:"1",thirdid:s.thirdid});case 2:n=i.sent,s.loading=!1,n.type?s.$message({showClose:!0,message:n.message,type:n.type}):s.loginAjax(e,t);case 5:case"end":return i.stop()}},i,s)}))()}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-container"},[s("div",{staticClass:"login"},[s("div",{staticClass:"login-pannel"},[e._m(0),e._v(" "),s("div",{staticClass:"login-form"},[e.formShow?s("div",{staticClass:"fieldset"},[s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.formLoading,expression:"formLoading"}],ref:"form",attrs:{model:e.form,rules:e.rules}},[s("el-form-item",{staticStyle:{"margin-bottom":"2.5px"},attrs:{prop:"user"}},[s("el-input",{staticClass:"login-input",class:{loginActive:e.active},attrs:{disabled:!0,placeholder:"请输入用户名",clearable:"",autofocus:"autofocus"},on:{focus:function(t){e.active=!0}},nativeOn:{keyup:function(t){e.keyNext(t,"loginPwd")}},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"iconfont icon-user"})])],2)],1),e._v(" "),s("el-form-item",{attrs:{prop:"pwd"}},[s("el-input",{staticClass:"login-input",class:{loginActive:!e.active},staticStyle:{"margin-bottom":"-8px",border:"none"},attrs:{id:"loginPwd",type:e.password,placeholder:"请输入密码"},on:{focus:function(t){e.active=!1}},nativeOn:{keyup:function(t){e.keyNext(t,"loginCheckPwd")}},model:{value:e.form.pwd,callback:function(t){e.$set(e.form,"pwd",t)},expression:"form.pwd"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"iconfont icon-weibiaoti1"})]),e._v(" "),s("template",{slot:"suffix"},[s("i",{staticClass:"iconfont",class:{"icon-biyanjing":"password"==e.password,"icon-17yanjing2":"text"==e.password},on:{click:e.seePwd}})])],2)],1),e._v(" "),s("el-form-item",{attrs:{prop:"checkpwd"}},[s("el-input",{staticClass:"login-input",class:{loginActive:!e.active},staticStyle:{"margin-bottom":"-8px",border:"none"},attrs:{id:"loginCheckPwd",type:e.password,placeholder:"请输入确认密码"},on:{focus:function(t){e.active=!1}},nativeOn:{keyup:function(t){e.keyEnter(t)}},model:{value:e.form.checkpwd,callback:function(t){e.$set(e.form,"checkpwd",t)},expression:"form.checkpwd"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"iconfont icon-weibiaoti1"})]),e._v(" "),s("template",{slot:"suffix"},[s("i",{staticClass:"iconfont",class:{"icon-biyanjing":"password"==e.checkpassword,"icon-17yanjing2":"text"==e.checkpassword},on:{click:e.seeCheckPwd}})])],2)],1),e._v(" "),s("el-form-item",{attrs:{prop:"bingbtn"}},[e.formShow?s("el-button",{staticClass:"login-form-btn",staticStyle:{width:"285px"},attrs:{type:"primary",loading:e.loading},on:{click:e.binding}},[e._v("绑定")]):e._e()],1)],1)],1):e._e()])])]),e._v(" "),s("div",{staticClass:"footer"},[e._v("闽ICP18002063号-1睿和科技-Copyright  ©  2018  睿和科技")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("span",{staticClass:"login-title"},[this._v("用户绑定")])])}]};var w=s("VU/8")(m,g,!1,function(e){s("F/S8")},null,null);t.default=w.exports}});
//# sourceMappingURL=55.20231227165236.js.map